import React, { useState } from 'react';
import axios from 'axios';
import { useEffect } from 'react';

const CodingTakeApiName = () => {
    const [persons, setPersons] = useState([]);

    const fetchApi = async () => {
        const res = await axios.get('https://randomuser.me/api/?results=1');
        return transformData(res.data.results);
    }

    const transformData = (results) => {
        return results.map(user => {
            const { title, first, last } = user.name;
            return { ...user, title, first, last };
        })
    }

    useEffect(() => {
        fetchApi()
            .then(personApi => {
                setPersons(personApi)
                console.log(persons);
            })
    }, [])

    return (
        <>
            <div>CodingTakeApiName</div>
            {
                persons.map((person, index) => (
                    <div key={index}>
                        <div> Title{person.title}</div>
                        <div> First{person.first}</div>
                        <div> Last{person.last}</div>
                    </div>
                ))
            }
        </>
    )
}

export default CodingTakeApiName
randomuser.me
Viết cho Dương Tuấn Tiến
